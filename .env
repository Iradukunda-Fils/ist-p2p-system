# ============================================================================
# P2P Procurement System - Docker Compose Configuration
# ============================================================================
# This file contains ONLY Docker infrastructure and orchestration variables
# Django application settings are in backend/src/.env
# ============================================================================

# ============================================================================
# Docker Compose
# ============================================================================
COMPOSE_PROJECT_NAME=p2p_procurement
ENVIRONMENT=development

# Docker Build Optimizations
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1
SKIP_COLLECTSTATIC=true

# ============================================================================
# Database (PostgreSQL)
# ============================================================================
DATABASE_NAME=p2p_procurement
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres
DATABASE_PORT=5432

# ============================================================================  
# Redis Cache & Message Broker
# ============================================================================
REDIS_PASSWORD=redis_dev_password
REDIS_PORT=6379

# ============================================================================
# Django Core (passed to backend container)
# ============================================================================
SECRET_KEY=django-insecure-dev-key-replace-in-production-kj324h5kjh2k3j4h5kj23h4k5jh23k4j5h
DJANGO_SETTINGS_MODULE=config.settings.development
DEBUG=False

# Disable file logging for now (use console only)
DJANGO_LOG_TO_FILE=false

# ============================================================================
# Django Superuser (auto-created on first run)
# ============================================================================
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_ROLE=admin
DJANGO_SUPERUSER_EMAIL=admin@p2p.local
DJANGO_SUPERUSER_PASSWORD=admin123

# ============================================================================
# Gunicorn Web Server
# ============================================================================
GUNICORN_WORKERS=2
GUNICORN_THREADS=2
GUNICORN_WORKER_CLASS=sync
GUNICORN_TIMEOUT=300
GUNICORN_MAX_REQUESTS=1000
GUNICORN_MAX_REQUESTS_JITTER=50

# ============================================================================
# Celery Worker
# ============================================================================
CELERY_WORKER_CONCURRENCY=2
CELERY_WORKER_LOG_LEVEL=info
CELERY_BEAT_LOG_LEVEL=info

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=INFO

# ============================================================================
# Network Ports (for development exposure)
# ============================================================================
NGINX_PORT=80
BACKEND_PORT=8000

# ============================================================================
# Frontend (React/Vite)
# ============================================================================
VITE_API_BASE_URL=/api
VITE_APP_TITLE=P2P Procurement System

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_API_DOCS=true

# ============================================================================
# Connection Strings (Computed from individual components)
# ============================================================================
DATABASE_URL=postgresql://postgres:postgres@db:5432/p2p_procurement
DATABASE_HOST=db

# ============================================================================
# Redis Connection Strings
# ============================================================================
REDIS_URL=redis://:redis_dev_password@redis:6379/0
REDIS_HOST=redis
CELERY_BROKER_URL=redis://:redis_dev_password@redis:6379/2
CELERY_RESULT_BACKEND=redis://:redis_dev_password@redis:6379/3

# ============================================================================
# File Paths
# ============================================================================
STATIC_ROOT=/app/src/staticfiles
MEDIA_ROOT=/app/media
STATIC_URL=/static/
MEDIA_URL=/media/

# ============================================================================
# Security
# ============================================================================
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False


