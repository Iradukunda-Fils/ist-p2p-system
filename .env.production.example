# ============================================================================
# Production Environment Variables for AWS EC2 Deployment
# ============================================================================
# CRITICAL: Copy this file to .env and fill in all required values
# File location on EC2: /home/ubuntu/p2p-deployment/.env
# ============================================================================

# ============================================================================
# Django Configuration
# ============================================================================
# CRITICAL: Generate a new secret key for production
# Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=CHANGE-THIS-TO-A-LONG-RANDOM-SECRET-KEY-MINIMUM-50-CHARACTERS
SECRET_KEY=<CHANGE_ME_PRODUCTION_SECRET>
DEBUG=False
ENVIRONMENT=production
DJANGO_LOG_TO_FILE=false

# CRITICAL: Set to your EC2 public IP or domain name
# Examples: 
#   - Single IP: ALLOWED_HOSTS=54.123.45.67
#   - Multiple: ALLOWED_HOSTS=54.123.45.67,myapp.example.com
#   - Wildcard subdomain: ALLOWED_HOSTS=.example.com
ALLOWED_HOSTS=*

# CORS Configuration - Set to your frontend domain
# Examples:
#   - http://54.123.45.67
#   - https://myapp.example.com
# CORS
CORS_ALLOWED_ORIGINS=http://52.90.60.36,http://ec2-52-90-60-36.compute-1.amazonaws.com,http://localhost
CSRF_TRUSTED_ORIGINS=http://52.90.60.36,http://ec2-52-90-60-36.compute-1.amazonaws.com,http://localhost
HTTP_X_FORWARDED_PROTO=http

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================
# CRITICAL: Change default password!
POSTGRES_DB=p2p_procurement
POSTGRES_USER=p2p_admin
POSTGRES_PASSWORD=<CHANGE_ME_DB_PASSWORD>
DATABASE_HOST=db
DATABASE_PORT=5432

# ============================================================================
# Redis Configuration
# ============================================================================
# CRITICAL: Change default password!
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE-THIS-STRONG-REDIS-PASSWORD

# ============================================================================
# Gunicorn Configuration
# ============================================================================
# Workers: 2-4 x CPU cores (EC2 t3.medium = 2 cores â†’ 4-8 workers)
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=300
GUNICORN_LOG_LEVEL=info

# ============================================================================
# Celery Configuration
# ============================================================================
# Concurrency: Number of worker processes (1-2 per CPU core)
CELERY_WORKER_CONCURRENCY=2
CELERY_WORKER_LOG_LEVEL=info
CELERY_BEAT_LOG_LEVEL=info

# ============================================================================
# Frontend Configuration (Build-time - already in image)
# ============================================================================
# These are used during image build
VITE_API_BASE_URL=/api
VITE_APP_TITLE=P2P Procurement System


# ============================================================================
# Auto-superuser (you may remove in real production)
# ============================================================================
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_ROLE=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=<CHANGE_ME_SUPERUSER_PASSWORD>


# ============================================================================
# Static / Media
# ============================================================================
STATIC_ROOT=/app/src/staticfiles
MEDIA_ROOT=/app/media
STATIC_URL=/static/
MEDIA_URL=/media/


# ============================================================================
# Email Configuration (Optional)
# ============================================================================
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-email@gmail.com
# EMAIL_HOST_PASSWORD=your-app-password

# ============================================================================
# AWS S3 Storage (Optional - for production file storage)
# ============================================================================
# USE_S3=False
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_STORAGE_BUCKET_NAME=
# AWS_S3_REGION_NAME=us-east-1

# ============================================================================
# SSL/HTTPS Configuration
# ============================================================================
# Set these to True if using HTTPS (after setting up SSL certificates)
# SECURE_SSL_REDIRECT=False
# SESSION_COOKIE_SECURE=False
# CSRF_COOKIE_SECURE=False
# SECURE_HSTS_SECONDS=0
# ============================================================================
# Production Environment Variables (Example Template)
# To be copied to `.env.production` and manually filled with real secrets
# ============================================================================

# ============================================================================
# AWS EC2 Deployment Information
# ============================================================================
# Instance: ist-p2p-system (i-075a772bcc084a084)
# Public IP: 52.90.60.36
# Public DNS: ec2-52-90-60-36.compute-1.amazonaws.com
# ============================================================================

