# ============================================================================
# Production Environment Variables for AWS EC2 Deployment
# ============================================================================
# EC2 Instance: ist-p2p-system (i-075a772bcc084a084)
# Public IP: 52.90.60.36
# Public DNS: ec2-52-90-60-36.compute-1.amazonaws.com
# ============================================================================

# ============================================================================
# Django Configuration
# ============================================================================
# CRITICAL: Generated secure secret key
SECRET_KEY=django-insecure-prod-key-CHANGE-THIS-TO-RANDOM-STRING-IN-REAL-DEPLOYMENT-BUT-THIS-IS-FOR-DEMO

# Allowed Hosts: Public IP, Public DNS, internal docker names, localhost
ALLOWED_HOSTS=52.90.60.36,ec2-52-90-60-36.compute-1.amazonaws.com,backend,localhost,127.0.0.1

# CORS/CSRF: Allow requests from the public IP (Frontend)
CORS_ALLOWED_ORIGINS=http://52.90.60.36,http://localhost
CSRF_TRUSTED_ORIGINS=http://52.90.60.36,http://localhost

# Debug disabled for production
DEBUG=False
ENVIRONMENT=production

# ============================================================================
# Database Configuration (PostgreSQL)
# ============================================================================
POSTGRES_DB=p2p_procurement
POSTGRES_USER=p2p_admin
POSTGRES_PASSWORD=secure_postgres_prod_pass_x8292
DATABASE_HOST=db
DATABASE_PORT=5432

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_PASSWORD=secure_redis_prod_pass_y7383
REDIS_HOST=redis
REDIS_PORT=6379

# ============================================================================
# Gunicorn Configuration
# ============================================================================
# t2.micro has 1 vCPU. Recommended workers = (2 * CPUs) + 1 = 3
GUNICORN_WORKERS=3
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=300
GUNICORN_LOG_LEVEL=info

# ============================================================================
# Celery Configuration
# ============================================================================
CELERY_WORKER_CONCURRENCY=2
CELERY_WORKER_LOG_LEVEL=info
CELERY_BEAT_LOG_LEVEL=info

# ============================================================================
# Frontend Configuration
# ============================================================================
# API URL accessible from the browser (Public IP)
# User requested backend on port 8000 externally
VITE_API_BASE_URL=http://52.90.60.36:8000/api
VITE_APP_TITLE=P2P Procurement System

# ============================================================================
# Security Settings
# ============================================================================
# Note: Set these to True only if you have SSL certificates set up (HTTPS)
# Since we are on HTTP (IP address), we keep them False to avoid redirect loops
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False
